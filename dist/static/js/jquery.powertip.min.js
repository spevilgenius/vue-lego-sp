(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){function u(){var a=this;a.top="auto";a.left="auto";a.right="auto";a.bottom="auto";a.set=function(f,k){b.isNumeric(k)&&(a[f]=Math.round(k))}}function A(c,f,b){function n(m,e){g();c.data("hasActiveHover")||(m?(e&&c.data("forcedOpen",!0),b.showTip(c)):(a.tipOpenImminent=!0,h=setTimeout(function(){h=null;var d=Math.abs(a.previousX-a.currentX),l=Math.abs(a.previousY-a.currentY);d+l<f.intentSensitivity?b.showTip(c):
(a.previousX=a.currentX,a.previousY=a.currentY,n())},f.intentPollInterval)))}function g(){h=clearTimeout(h);a.delayInProgress=!1}var h=null;this.show=n;this.hide=function(m){g();a.tipOpenImminent=!1;c.data("hasActiveHover")&&(c.data("forcedOpen",!1),m?b.hideTip(c):(a.delayInProgress=!0,h=setTimeout(function(){h=null;b.hideTip(c);a.delayInProgress=!1},f.closeDelay)))};this.cancel=g;this.resetPosition=function(){b.resetPosition(c)}}function B(){function c(c,b){function n(){p.push(m.matrixTransform(e))}
var g=c.closest("svg")[0],h=c[0],m=g.createSVGPoint(),g=h.getBBox(),e=h.getScreenCTM(),d=g.width/2,l=g.height/2,p=[],h="nw n ne e se s sw w lp".split(" "),q;m.x=g.x;m.y=g.y;n();m.x+=d;n();m.x+=d;n();m.y+=l;n();m.y+=l;n();m.x-=d;n();m.x-=d;n();m.y-=l;n();if(p[0].y!==p[1].y||p[0].x!==p[7].x)for(g=Math.atan2(e.b,e.a)*C,g=Math.ceil((g%360-22.5)/45),1>g&&(g+=8);g--;)h.push(h.shift());for(g=0;g<p.length;g++)if(h[g]===b){q=p[g];break}return{top:q.y+a.scrollTop,left:q.x+a.scrollLeft}}this.compute=function(f,
b,n,g,h,m){var e=b.split("-")[0],d=new u;if(window.SVGElement&&f[0]instanceof SVGElement)e=c(f,e);else{var l=f.offset(),p=f.outerWidth();f=f.outerHeight();var q,r;switch(e){case "n":q=l.left+p/2;r=l.top;break;case "e":q=l.left+p;r=l.top+f/2;break;case "s":q=l.left+p/2;r=l.top+f;break;case "w":q=l.left;r=l.top+f/2;break;case "nw":q=l.left;r=l.top;break;case "ne":q=l.left+p;r=l.top;break;case "sw":q=l.left;r=l.top+f;break;case "se":q=l.left+p;r=l.top+f;break;case "lp":q=l.left+p,r=l.top}e={top:r,left:q}}switch(b){case "n":d.set("left",
e.left-n/2);d.set("bottom",a.windowHeight-e.top+h);break;case "e":d.set("left",e.left+h);d.set("top",e.top-g/2);break;case "s":d.set("left",e.left-n/2);d.set("top",e.top+h);break;case "w":d.set("top",e.top-g/2);d.set("right",a.windowWidth-e.left+h);break;case "nw":d.set("bottom",a.windowHeight-e.top+h);d.set("right",a.windowWidth-e.left-20);break;case "nw-alt":d.set("left",e.left);d.set("bottom",a.windowHeight-e.top+h);break;case "ne":d.set("left",e.left-20);d.set("bottom",a.windowHeight-e.top+h);
break;case "ne-alt":d.set("bottom",a.windowHeight-e.top+h);d.set("right",a.windowWidth-e.left);break;case "sw":d.set("top",e.top+h);d.set("right",a.windowWidth-e.left-20);break;case "sw-alt":d.set("left",e.left);d.set("top",e.top+h);break;case "se":d.set("left",e.left-20);d.set("top",e.top+h);break;case "se-alt":d.set("top",e.top+h);d.set("right",a.windowWidth-e.left);break;case "lp":d.set("left",e.left-m),d.set("bottom",a.windowHeight-e.top+h)}return d}}function D(c){function f(l){var b;if(l.data("hasActiveHover"))if(a.isTipOpen)a.isClosing||
k(a.activeHover),d.delay(100).queue(function(a){f(l);a()});else if(l.trigger("powerTipPreRender"),b=E(l))d.empty().append(b),l.trigger("powerTipRender"),a.activeHover=l,a.isTipOpen=!0,d.data("mouseOnToPopup",c.mouseOnToPopup),c.followMouse?n():(g(l),a.isFixedTipOpen=!0),d.fadeIn(c.fadeInTime,function(){a.desyncTimeout||(a.desyncTimeout=setInterval(m,500));l.trigger("powerTipOpen")})}function k(b){a.isClosing=!0;a.activeHover=null;a.isTipOpen=!1;a.desyncTimeout=clearInterval(a.desyncTimeout);b.data("hasActiveHover",
!1);b.data("forcedOpen",!1);d.fadeOut(c.fadeOutTime,function(){var g=new u;a.isClosing=!1;a.isFixedTipOpen=!1;d.removeClass();g.set("top",a.currentY+c.offset);g.set("left",a.currentX+c.offset);d.css(g);b.trigger("powerTipClose")})}function n(){if(!a.isFixedTipOpen&&(a.isTipOpen||a.tipOpenImminent&&d.data("hasMouseMove"))){var b=d.outerWidth(),g=d.outerHeight(),f=new u,e;f.set("top",a.currentY+c.offset);f.set("left",a.currentX+c.offset);e=w(f,b,g);if(e!==t.none){for(var h=e,k=0;h;)h&=h-1,k++;1===k?
e===t.right?f.set("left",a.windowWidth-b):e===t.bottom&&f.set("top",a.scrollTop+a.windowHeight-g):(f.set("left",a.currentX-b-c.offset),f.set("top",a.currentY-g-c.offset))}d.css(f)}}function g(a){var f,g;c.smartPlacement?(f=b.fn.powerTip.smartPlacementLists[c.placement],b.each(f,function(c,b){var f=w(h(a,b),d.outerWidth(),d.outerHeight());g=b;if(f===t.none)return!1})):(h(a,c.placement),g=c.placement);d.addClass(g)}function h(a,b){var f=0,g,h,k=new u;k.set("top",0);k.set("left",0);d.css(k);do g=d.outerWidth(),
h=d.outerHeight(),k=e.compute(a,b,g,h,c.offset,c.offsetH),d.css(k);while(5>=++f&&(g!==d.outerWidth()||h!==d.outerHeight()));return k}function m(){var c=!1;!a.isTipOpen||a.isClosing||a.delayInProgress||(!1===a.activeHover.data("hasActiveHover")||a.activeHover.is(":disabled")?c=!0:x(a.activeHover)||a.activeHover.is(":focus")||a.activeHover.data("forcedOpen")||(d.data("mouseOnToPopup")?x(d)||(c=!0):c=!0),c&&k(a.activeHover))}var e=new B,d=b("#"+c.popupId);0===d.length&&(d=b("<div/>",{id:c.popupId}),
0===v.length&&(v=b("body")),v.append(d));c.followMouse&&!d.data("hasMouseMove")&&(y.on("mousemove",n),s.on("scroll",n),d.data("hasMouseMove",!0));if(c.mouseOnToPopup)d.on({mouseenter:function(){d.data("mouseOnToPopup")&&a.activeHover&&a.activeHover.data("displayController").cancel()},mouseleave:function(){a.activeHover&&a.activeHover.data("displayController").hide()}});this.showTip=function(a){a.data("hasActiveHover",!0);d.queue(function(c){f(a);c()})};this.hideTip=k;this.resetPosition=g}function F(){a.mouseTrackingActive||
(a.mouseTrackingActive=!0,b(function(){a.scrollLeft=s.scrollLeft();a.scrollTop=s.scrollTop();a.windowWidth=s.width();a.windowHeight=s.height()}),y.on("mousemove",z),s.on({resize:function(){a.windowWidth=s.width();a.windowHeight=s.height()},scroll:function(){var c=s.scrollLeft(),b=s.scrollTop();c!==a.scrollLeft&&(a.currentX+=c-a.scrollLeft,a.scrollLeft=c);b!==a.scrollTop&&(a.currentY+=b-a.scrollTop,a.scrollTop=b)}}))}function z(c){a.currentX=c.pageX;a.currentY=c.pageY}function x(c){var b=c.offset(),
k=c[0].getBoundingClientRect();c=k.right-k.left;k=k.bottom-k.top;return a.currentX>=b.left&&a.currentX<=b.left+c&&a.currentY>=b.top&&a.currentY<=b.top+k}function E(a){var f=a.data("powertip"),k=a.data("powertipjq"),n=a.data("powertiptarget"),g;f?(b.isFunction(f)&&(f=f.call(a[0])),g=f):k?(b.isFunction(k)&&(k=k.call(a[0])),0<k.length&&(g=k.clone(!0,!0))):n&&(a=b("#"+n),0<a.length&&(g=a.html()));return g}function w(c,b,k){var n=a.scrollTop,g=a.scrollLeft,h=n+a.windowHeight,m=g+a.windowWidth,e=t.none;
if(c.top<n||Math.abs(c.bottom-a.windowHeight)-k<n)e|=t.top;if(c.top+k>h||Math.abs(c.bottom-a.windowHeight)>h)e|=t.bottom;if(c.left<g||c.right+b>m)e|=t.left;if(c.left+b>m||c.right<g)e|=t.right;return e}var y=b(document),s=b(window),v=b("body"),C=180/Math.PI,a={isTipOpen:!1,isFixedTipOpen:!1,isClosing:!1,tipOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:!1,delayInProgress:!1,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0},
t={none:0,top:1,bottom:2,left:4,right:8};b.fn.powerTip=function(a,f){if(!this.length)return this;if("string"===b.type(a)&&b.powerTip[a])return b.powerTip[a].call(this,this,f);var k=b.extend({},b.fn.powerTip.defaults,a),n=new D(k);F();this.each(function(){var a=b(this),c=a.data("powertip"),f=a.data("powertipjq"),e=a.data("powertiptarget"),d;a.data("displayController")&&b.powerTip.destroy(a);d=a.attr("title");c||e||f||!d||(a.data("powertip",d),a.data("originalTitle",d),a.removeAttr("title"));a.data("displayController",
new A(a,k,n))});if(!k.manual)this.on({"mouseenter.powertip":function(a){b.powerTip.show(this,a)},"mouseleave.powertip":function(){b.powerTip.hide(this)},"focus.powertip":function(){b.powerTip.show(this)},"blur.powertip":function(){b.powerTip.hide(this,!0)},"keydown.powertip":function(a){27===a.keyCode&&b.powerTip.hide(this,!0)}});return this};b.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",
smartPlacement:!1,offset:10,offsetH:20,mouseOnToPopup:!1,manual:!1};b.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:"e ne se w nw sw n s e".split(" "),s:["s","se","sw","n"],w:"w nw sw e ne se n s w".split(" "),nw:"nw w sw n s se nw".split(" "),ne:"ne e se n s sw ne".split(" "),sw:"sw w nw s n ne sw".split(" "),se:"se e ne s n nw se".split(" "),"nw-alt":"nw-alt n ne-alt sw-alt s se-alt w e".split(" "),"ne-alt":"ne-alt n nw-alt se-alt s sw-alt e w".split(" "),"sw-alt":"sw-alt s se-alt nw-alt n ne-alt w e".split(" "),
"se-alt":"se-alt s sw-alt ne-alt n nw-alt e w".split(" ")};b.powerTip={show:function(c,f){f?(z(f),a.previousX=f.pageX,a.previousY=f.pageY,b(c).data("displayController").show()):b(c).first().data("displayController").show(!0,!0);return c},reposition:function(a){b(a).first().data("displayController").resetPosition();return a},hide:function(c,f){c?b(c).first().data("displayController").hide(f):a.activeHover&&a.activeHover.data("displayController").hide(!0);return c},destroy:function(a){b(a).off(".powertip").each(function(){var a=
b(this),c=["originalTitle","displayController","hasActiveHover","forcedOpen"];a.data("originalTitle")&&(a.attr("title",a.data("originalTitle")),c.push("powertip"));a.removeData(c)});return a}};b.powerTip.showTip=b.powerTip.show;b.powerTip.closeTip=b.powerTip.hide});
